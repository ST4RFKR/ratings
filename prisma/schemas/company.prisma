model Company {
  id   String @id @default(uuid())
  name String
  slug String @unique

  status CompanyStatus @default(ACTIVE)

  address String?
  rating  Float   @default(0.0)

  description String?
  industry    String

  joinCode      String  @unique() @map("join_code")
  allowAutoJoin Boolean @default(true) @map("allow_aut_join") // TODO: только для MVP

  locations Location[]
  employees Employee[]
  reviews   Review[]

  owner   User?   @relation("CompanyOwner", fields: [ownerId], references: [id], onDelete: Cascade)
  ownerId String? @map("owner_id")

  activeForUsers User[] @relation("ActiveCompany")

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@index([status])
  @@map("company")
}

enum CompanyStatus {
  PENDING
  ACTIVE
  BLOCKED
}
